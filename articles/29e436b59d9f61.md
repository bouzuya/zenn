---
emoji: "ğŸ™Œ"
publication_name: "doctormate"
published: false # FIXME
published_at: 2026-03-30 12:00
title: "axum crate ã® Middleware (5) tower::Service and Pin<Box<dyn Future>>"
topics: ["rust"]
type: "tech"
---

[å‰å›ã¯ axum ã® middleware ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® Writing middleware ã‹ã‚‰ tower::Service and Pin<Box<dyn Future>> ã«ã¤ã„ã¦è¦‹ã¾ã—ãŸ](https://zenn.dev/doctormate/articles/698f2f63079de2)ã€‚

ä»Šå›ã¯ axum ã® middleware ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰â€¦â€¦ã‚’èª­ã‚“ã§ã„ãã¾ã™ã€‚

ä»Šå›ã‚‚ axum crate ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ 0.8.4 ã§ã™ã€‚

## â€¦â€¦

<https://docs.rs/axum/0.8.4/axum/middleware/index.html>

- tower::Service and custom futures
    - tower ã ã‘ã®å†…å®¹ã«ãªã‚Šãã†ãªã®ã§ä¸€æ—¦ skip
    - https://github.com/tower-rs/tower/blob/master/guides/building-a-middleware-from-scratch.md
- Error handling for middleware
    - ä»¥å‰ã« Error Handling ã«ã¯è§¦ã‚ŒãŸã®ã§å‰²æ„›
- Routing to services/middleware and backpressure
    - ä¸€èˆ¬ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ãƒãƒƒã‚¯ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã¯ã†ã¾ãçµ„ã¿åˆã‚ã›ã‚‰ã‚Œãªã„
    - ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å‰ã«ã‚µãƒ¼ãƒ“ã‚¹ã® ready ã‚’ç¢ºèªã—ãŸã„ãŒã€ã©ã®ã‚µãƒ¼ãƒ“ã‚¹ã¸ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã•ã‚Œã‚‹ã‹ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ãªã„ã¨åˆ†ã‹ã‚‰ãªã„ãŸã‚
    - ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒ ready ã«ãªã‚‹ã¾ã§ã€ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’ ready ã«ã—ãªã„
    - ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ ready ã¨ã¿ãªã—ã¦ã€ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’å¸¸ã« ready ã«ã™ã‚‹ (axum ã¯ã“ã¡ã‚‰)
    - ãƒãƒƒã‚¯ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚’è€ƒæ…®ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¯ãƒ«ãƒ¼ã‚¿ãƒ¼ã®å¤–å´ã«é…ç½®ã™ã‚‹ã¨è‰¯ã„

## ãŠã‚ã‚Šã«

ä»Šå›ã¯ axum ã® middleware ã® â€¦â€¦ ã‚’è¦‹ã¾ã—ãŸã€‚

æ¬¡å›ã¯â€¦â€¦

